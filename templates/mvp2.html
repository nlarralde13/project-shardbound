<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Shardbound — MVP2 Prototype</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/mvp2.css') }}">
</head>
<body class="app">

  <!-- Top bar -->
  <header class="topbar">
    <div class="title">Shardbound • MVP2</div>
    <div class="hud">
      <div class="bar hp"><span>HP</span><i style="width: 80%"></i></div>
      <div class="bar mp"><span>MP</span><i style="width: 60%"></i></div>
      <div class="bar sta"><span>STA</span><i style="width: 90%"></i></div>
    </div>
    <nav class="actions">
      <button id="btnInventory" class="btn ghost">Inventory</button>
      <button id="btnCharacter" class="btn">Character (C)</button>
      <button id="btnWorldMap" class="btn">Map (M)</button>
      <button id="btnSettings" class="btn ghost">Settings</button>
    </nav>
  </header>

  <!-- Main content -->
  <main class="main">
    <!-- Room viewport -->
    <section class="room">
      <div class="room-header">
        <h1 id="roomTitle">Shadowed Grove</h1>
        <span id="roomBiome" class="tag">Forest</span>
      </div>

      <div class="room-card">
        <div class="room-art" id="roomArt" aria-hidden="true"></div>
        <p id="roomText" class="room-text">
          You step beneath a thick canopy. The air hums with latent mana.
        </p>

        <div class="room-controls">
          <div class="exits">
            <button class="btn exit" data-dir="N">N</button>
            <button class="btn exit" data-dir="E">E</button>
            <button class="btn exit" data-dir="S">S</button>
            <button class="btn exit" data-dir="W">W</button>
          </div>
          <div class="ctx">
            <button class="btn" data-act="search">Search</button>
            <button class="btn" data-act="harvest">Harvest</button>
            <button class="btn" data-act="rest">Rest</button>
            <button class="btn" data-act="enter">Enter</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Console -->
    <section class="console-wrap">
      <div id="console" class="console" aria-live="polite">
        <div class="line dim">Console ready. Use exits or actions.</div>
      </div>
      <div class="console-input">
        <input id="cmd" type="text" placeholder="Type a command (e.g., 'move n', 'search') and press Enter…" />
        <button id="cmdSend" class="btn">Send</button>
      </div>

      <div class="quick-actions">
        <button class="btn" data-qa="moveN">Move N</button>
        <button class="btn" data-qa="moveE">Move E</button>
        <button class="btn" data-qa="moveS">Move S</button>
        <button class="btn" data-qa="moveW">Move W</button>
        <button class="btn ghost" data-qa="help">Help</button>
      </div>
    </section>
  </main>

  <!-- Overlays -->

  <!-- World Map (non-interactive) -->
  <div id="overlayMap" class="overlay hidden" role="dialog" aria-modal="true" aria-label="World Map">
    <div class="panel">
      <div class="panel-header">
        <div>World Map — Shard A</div>
        <button class="btn ghost" data-close="map">Close (M)</button>
      </div>
      <div class="map-frame">
        <div class="map-legend">
          <span class="dot town"></span> Town
          <span class="dot port"></span> Port
          <span class="dot gate"></span> Shardgate
        </div>
        <!-- Placeholder image/box for now -->
        <div class="map-canvas">
          <div class="token" title="You are here" style="left: 62%; top: 46%"></div>
        </div>
        <div class="map-hint dim">
          Hover tiles to preview info (mock). Movement is room-first; the map is for orientation.
        </div>
      </div>
    </div>
  </div>

  <!-- Character Panel -->
  <div id="overlayChar" class="overlay hidden" role="dialog" aria-modal="true" aria-label="Character Panel">
    <div class="panel">
      <div class="panel-header">
        <div>Character</div>
        <button class="btn ghost" data-close="char">Close (C)</button>
      </div>
      <div class="char-grid">
        <div class="char-col">
          <h3>Equipment</h3>
          <ul class="slots">
            <li><span>Head</span><i>—</i></li>
            <li><span>Chest</span><i>Leather Jerkin</i></li>
            <li><span>Main-hand</span><i>Rusty Blade</i></li>
            <li><span>Off-hand</span><i>Buckler</i></li>
            <li><span>Ring</span><i>Copper Band</i></li>
          </ul>
        </div>
        <div class="char-col">
          <h3>Stats</h3>
          <ul class="stats">
            <li>STR 10</li><li>AGI 9</li><li>INT 8</li><li>STA 12</li>
            <li>Armor 4</li><li>Crit 2%</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='js/mvp2.js') }}"></script>
</body>
</html>
